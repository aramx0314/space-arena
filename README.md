# SPACE ARENA
SPACE ARENA는 웹 브라우저에서 실행할 수 있는 간단한 실시간 멀티플레이어 2D 슈팅 게임입니다.
- 서버: Golang, WebSocket
- 클라이언트: HTML5, JavaScript
- 이벤트 기반 메시지 전송: 게임 상의 이벤트(플레이어 생성, 죽음, 이동, 회전 등)가 발생할 때만 데이터 전송

## 서버 동작
서버는 WebSocket 기반의 실시간 통신을 통해 클라이언트와 상호작용하며, 다음과 같은 흐름으로 동작합니다.

1. 클라이언트 접속
    - 클라이언트가 웹 브라우저를 통해 접속하면, 서버와의 WebSocket 연결을 생성합니다.

2. 게임 대기열
    - 클라이언트는 게임 준비를 알리는 '게임 준비 메시지'를 서버에 전송합니다.
    - 해당 클라이언트는 대기열에 추가됩니다.

3. 게임 매칭 및 시작
    - 대기열에 정해진 플레이어(최대 9명)가 모이면, 게임 인스턴스가 생성됩니다.
    - 이 시점부터 해당 플레이어들은 새로운 게임 세션에 배정되어 게임이 시작됩니다.

4. 게임 세션 진행
    - 게임이 시작되면, 각 플레이어는 해당 세션에 속한 다른 플레이어들과 함께 게임을 진행합니다.
    - 서버는 각 게임 세션을 독립적으로 관리하며, 다수의 게임이 동시에 진행됩니다.

## 게임 규칙
- 게임이 시작되면 게임 월드 영역 가장자리에 플레이어 우주선이 생성됩니다.
- 우주선의 이동은 게임 월드 영역 내로 제한됩니다.
- 게임 월드 영역은 시간이 지날수록 게임 월드 영역의 중심으로 좁혀집니다.
- 게임 월드 영역의 중심에서 다수의 에너지볼이 생성됩니다.
- 게임 월드에서 생성된 에너지볼이나 다른 플레이어가 발사한 레이저에 우주선이 피격되면 해당 플레이어는 탈락됩니다.
- 마지막까지 살아남은 플레이어가 승리합니다.

## 조작법
- W: 위로 이동
- A: 왼쪽으로 이동
- S: 아래로 이동
- D: 오른쪽으로 이동
- J: 왼쪽으로 회전
- K: 오른쪽으로 회전
- L: 레이저 발사
- F5: 게임 및 연결 종료 후 시작 화면으로 이동

## 빌드
```bash
docker compose build
```
빌드에 성공하면 다음의 이미지가 생성됩니다.
- space-arena-bot
- space-arena-server

## 실행
```bash
docker compose up

# 종료하려면 Ctrl+C 로 빠져나온 후
# docker compose down
```

## 플레이
- 서버를 실행한 후 웹 브라우저로 서버에 접속[http://localhost:8080/main.html]합니다. 
- START 버튼을 눌러 게임 시작을 준비합니다.
- 게임 규칙과 조작법을 참고하여 게임을 플레이합니다.
- 시연 영상: [https://youtu.be/T9yzqy48Iw0]
